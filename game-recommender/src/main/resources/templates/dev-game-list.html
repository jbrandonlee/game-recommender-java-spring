<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout.html :: html_head}" />

<body>
	<!--<div th:include="~{fragments/layout.html :: offcanvas_nav}" th:with="parentPage='Staff'"/>-->
	<main>
		<h1 class="display-5">My Games</h1>
		<div class="pt-4">
			<!--<div th:replace="~{fragments/layout.html :: pagination-bar}" />-->
			
			<div th:if="${#lists.isEmpty(gameList)}">
				<p class="text-center">You do not have any games.</p>
			</div>
			
			<div th:if="${not #lists.isEmpty(gameList)}">
				<table class="table table-sm table-bordered border-light" width="100%">
					<thead class="table-light border-light-subtle">
						<tr>
							<td>Game</td>
							<td>Release Date</td>
							<td>Price</td>
							<td>Rating</td>
							<td>Visibility Status</td>
							<td>Approval Status</td>
							<td>Action</td>
						</tr>
					</thead>
					<tr th:each="game : ${gameList}">
						<td th:text="${game.title}"></td>
						<td th:text="${game.dateRelease}"></td>
						<td th:text="${game.price}"></td>
						<td th:text="${#numbers.formatDecimal(game.rating, 1, 2)}"></td>
						<td class="fw-normal" th:text="${(game.profile.visibilityStatus) ? 'VISIBLE' : 'HIDDEN'}"
							th:classappend="${(game.profile.visibilityStatus) ? 'text-success' : 'text-secondary'}"></td>
						<td class="fw-normal" th:text="${game.profile.approvalStatus}"
							th:classappend="${ (game.profile.approvalStatus.toString() == 'APPLIED' || game.profile.approvalStatus.toString() == 'UPDATED') ? 'text-primary' : 
											   (game.profile.approvalStatus.toString() == 'APPROVED') ? 'text-success' :
											   (game.profile.approvalStatus.toString() == 'REJECTED') ? 'text-danger' : 'text-secondary'}"></td>
						<td>
							<span><a class="btn btn-sm btn-outline-primary" th:href="@{~/dev/game/view/}+${game.id}">View</a></span>
						</td>
					</tr>									
				</table>
			</div>
			<!--<div class="col-12">
				<p style="font-size:0.9rem; align-self:center;">Total Entries: <span th:text="${totalItems}"></span></p>
			</div>-->
			<div class="d-flex flex-row-reverse">
				<span class="ms-3" th:unless="${showAll}"><a class="btn btn-sm btn-dark text-decoration-none" th:href="@{~/dev/game/list/all}">View All</a></span>
				<span class="ms-3"><a class="btn btn-sm btn-outline-dark text-decoration-none" th:href="@{~/}">Back to Dashboard</a></span>
			</div>
		</div>
	</main>
</body>
</html>